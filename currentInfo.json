{"account": "BM38636433", "secondsPerTradingDay": 5, "ok": true, "instanceId": 23887, "venues": ["IGWEX"], "tickers": ["YELO"], "instructions": {"Informed Traders": "# Directional Order Flow\n\nA trader with better-than-market (basically, better than random) understanding of the value of a stock is \"directional order flow\", or,\ninformally, \"smart money.\"  They tend to be large and sophisticated relative to most traders -- hedge funds backed by teams of \nanalysts, etc.\n\nDirectional order flow is a challenge for the sell side.  (The sell side is market makers and other participants who sell liquidity, i.e. \nwho facilitate trades without themselves having a strong desire to speculate in a stock.)  Why?  Non-directional orders are basically\nrandom and, over time, balance out pretty neatly, allowing the market maker to earn the spread every time with little risk.\n\nDirectional orders are *not* random.  They can be large enough to move the market *by themselves.*  They might be the earliest\nindication of market-impacing news releases hitting the order books, like e.g. a jobs report or an earnings announcement or a merger\nrumor.  The directional order could potentially move the market several percentage points in either direction and *it might never move\nback*.\n\n## Sniffing Out Directional Order Flow\n\nPrior to widespread use of algorithmic trading, market makers were as crooked as a barrel of fish hooks, and colluded with brokers\nagainst the brokers' clients to ascertain which orders were directional (which they would simply refuse to fill) and which weren't \n(which they'd then quote a generous spread on).\n\nThese days, algorithmic trading provides most of the liquidity on Wall Street, and it isn't illegally colluding with agents of the buy side.\nIt is, instead, quickly doing risk management to avoid getting \"run over\" by large directional orders.  This is what a large portion of the\ncontroversy over HFT is about: HFTs quickly profile directional orders in a way which avoids totally filling them, and then they cancel\norders they have on exchanges' books to get out of the way of the orders.\n\nThis is an arms race: directional orders prefer to not be profiled, so they get increasingly sneaky about executing quietly as opposed to\nloudly.  This could be by using **dark pools**, which are exchanges which do not publish their order books to participants.  This could be by\nsplitting the order into lots of parts and sending it to different exchanges at different times.\n\nProfilers, on the other hand, look for signatures in orders.  This could be side channel attacks like timing.  This could be looking for\npatterns in the orders -- just like the ENIGMA codes were broken in part because operators used consistent keys, some theoretically\nsophisticated buy side traders have detectable habits.  (Imagine someone who, e.g., always ends their trade quantities in a 7, for\ngood luck.  Sound silly?  Crazier things have happened.)\n\n## Reacting To The Flow\n\nAlgorithmic traders on the sell side specialize in getting *very, very conversant* with every possible quirk of their chosen exchanges,\nincluding the implementation details of their match engines, the *exact* behavior of their order types, low-level network topology,\netc etc.  All of these things can be used to react to order flow in ways that other participants might not anticipate or be able to \ncounter-react to.\n\n## Starfighter Notes\n\nPart of the fun of the game is discovering our implementation details and then using them to your advantage.  That said, we'll spill\na few beans for you:\n\n* Our order book is synchronous: only one incoming order can execute at once.  (For example, if you have two orders sitting on the\nbook and would like to use an execution against the first to cancel the second, an order which would execute against both would\nessentially execute in a transaction.  You wouldn't have time to move out of the way of a single order.)\n* Our exchanges believe they've made it impossible for you to divine the identity of your counterparty.  Hint: they're wrong.\n* The exact timing of operations (say, cancels versus placing orders) might vary on a per-venue basis, particularly in later levels.\nThis is \"news you can use.\"\n* Cancels are not published to our executions tape, but do result in the quote being updated.", "Market Makers": "A **market maker** is a market participant (sometimes a formal role, often not) who provides *liquidity* in a stock, by being willing\nto buy the stock or sell the stock, substantially all of the time.  The market maker seeks to make a small amount of money on\na large amount of transactions by, on average, selling for slightly more than their buying price.  The difference between the price\nthat they're willing to buy at and the price that they're willing to sell at (at any given moment) is called \"the *spread*\".\n\nMarket makers are crucial to the financial markets.  A market without liquidity is a sucky market.  The market for houses has very\nlow liquidity: if you want to sell your house on Tuesday, it is unlikely that anyone wants to buy *exactly* your house on *exactly*\nTuesday, so you'd probably get a very, very poor price for it.  Similarly, if you wanted to buy *exactly* your dream house on *exactly*\nTuesday, you'd probably have to pay a ridiculous premium to the \"fair value\" of the house.\n\nImagine a world where there was someone you would call, name any address in the country, and immediately receive a buying\nprice and a selling price for that house.  That person would be a market maker.  They would make it much, much less difficult\nfor you to get into or out of your desired exposure to a house on Tuesday.\n\nMarket makers are the counter-parties to *most* transactions on the stock exchange.  That sounds unlikely, but it is true: it is\nhighly unlikely that a pension fund seeking to unload 100,000 shares of Google executes that trade at *the exact instant* where\na stadium full of mom-and-pop investors are seeking to buy 2~5 shares of Google apiece.\n\n## What Do Market Makers Not Like?\n\nMarket makers don't like **inventory risk**.  They get paid to take on a small, short-term risk of being long (holding stock) or \nshort (borrowing stock) in the stock they're making a market for, with the intention of quickly having an order in the opposite\ndirection get them out of that position.\n\nIt is dangerous for a market maker to trade with *informed order flow*, i.e. someone with better-than-market understanding of\nthe near term future for a stock.  Someone who is trading a block (a lot of stock at once) is automatically informed order flow,\nsince they know that their current transaction for buying 100 shares is going to be followed not by a 50/50 chance of a sell but\nrather with a buy, a buy, another buy, some more buys, followed by more buying.\n\nIf a market maker continues to allow informed order flow to trade with them, they may find themselves with a larger position than\nthey anticipated at a price which is expensive to get out of, given the present state of the market.\n\n## How Do Market Makers Deal With This?\n\n1. *Profile incoming orders.*  Market makers, beginning with humans with \"a sense of the flow of the market\" and continuing to\nHFT algorithms in the present day, are in a constant cat-and-mouse game with informed order flow.  They'd prefer to transact\nminimally (if at all) with informed orders.\n\n2.  *Hedge.*  More sophisticated strategies are available after a market maker has multiple instruments they can trade in.  For\nexample, they can hedge a long position in a stock with options which synthetically cancel out some features of the position.\nThey could also e.g. hedge a position in a particular stock with an offsetting position in a separate stock believe to be highly\ncorrelated with the original stock (e.g. if you're long Toyota, sell Honda), with indexes/exchange traded funds, or with other\nderivatives.\n\n## How Do I Make Markets?\n\nBuy low.  Sell high.  Trade frequently.\n\n## No, Really?\n\nObserve what the provided market makers do, in particular how they quote spreads and periodically cancel orders when\nthe market moves in either direction.  The provided market makers are as unsophisticated as they can be and possibly work\n(n.b. under 100 lines of Ruby code).  You should be able to easily exploit their blind spots.  \n\nA freebie, since **people who\nactually read docs should be rewarded**: our least sophisticated market maker has no memory of closed orders and looks\nat the order book every N seconds as if the universe had just sprung into being.  That probably suggests at least one way\nto trick it into doing what you want.  Bonus points: if what you do to get what you want doesn't leave a signature in the order\nbook, it will *never* catch on.  (Note that a dumb market maker with smart participants next to it can function as a smart system\neven if they're not intentionally colluding, however.  One of the core insights of markets in general is that they quickly converge\non solutions which are better than individual participants would have come up with.  A market maker can surf on the market,\nwhich converges to a solution to your manipulation, without itself understanding that your manipulation even exists.)\n\nIn general, you want to \n\n1. quote a tighter spread (if the bot would quote $10 / $10.50, and you quote $10.05 / $10.45, you'll\nget the fills rather than the bot)\n2. attempt to profile incoming orders, for example by keeping state of your own recent orders and whether you appear to be\nhaving many similar ones happen in the same direction\n3. cancel and re-file your bids/asks when you develop inventory in either direction, potentially at a less favorable price if you're\nscared\n4. look for patterns in the market and in behavior of other participants.  Patterns which suggest anomalous behavior, which\nroutinely divulge that an order is from a sophisticated or unsophisticated source, or which allow you to predict the near-term\nbehavior of another participant are *very valuable indeed.*\n\n## Stockfighter Notes\n\nTake a look at the API docs for viewing an order's fills or the details of an execution.  Note that we don't expose any identifying\ninformation about your counterparty.  Now, try to think of creative ways that one can \"cheat\" the non-availability of that information.\n", "Instructions": "# Picking Up Pennies In Front Of Dueling Steam Rollers\n\nYou've demonstrated a bit of a knack for making markets as a sell-sider, so we've hired you at Bob Matsumoto to take on a bit\nmore challenging of a market.  \n\nYELO Ltd. (*YELO*) is a bit of an odd duck.  Their quarterly reports show a ludicrously profitable business... but, well,\nsome of their business practices are a little... questionable.  The underlying product may or may not actually do what they claim\nit does.  Also, their CFO has a degree in screenwriting, and his ability to spin epic tales utterly disconnected from material reality\nand have people believe in them for an hour or two is legendary.\n\nOr at least that is what Al Bickman, noted hedge fund investor, says.  And he hasn't been quiet about it, either -- he walked over\nto their corporate office and literally nailed 97 PowerPoint slides to their door yesterday.\n\nThe last slide was the disclaimer: \"My fund holds no position in YELO Ltd., but we will soon, and it will strike with the anger\nof an avenging god.\"\n\nIt was a publicly stunt, but it worked.  Chatter on the Street was at a dull roar... until an hour ago, when it went nuclear.\n\nNoted activist investor, Ian Cahan, defended the company.  He said that not only does he trust their management, he's a \nlong-time client, and thinks their offering is the best in the industry.  \n\n\"Haters are gonna hate hate hate.  Bickman is a gadfly who got lucky once in the 90s and hasn't had an original thought in his\nentire career.  The shorts are depressing the stock of a job-creating American corporation, but hey, it's a free country.  I believe\nin this great country, which is why my fund will continue accumulating YELO.  Bickman will have to cover his short before he\ngallivants off on his next crusade.\"\n\nBickman fired back: \"I fully intend to cover my short... at zero.\"\n\n**It's on.**  YELO Ltd. is a quirky duck: it only trades on IGU Warsaw Exchange (IGWEX), due to a consent decree they entered\nwith the CES a few years ago.  This forces Cahan and Bickman to establish their positions on a lit exchange.\n\nNaturally, they're not the only people with interest in the stock -- regular investors transact in it every day.  Market maker interest\nin YELO Ltd. has cratered, though -- the prospect of two titans dueling it out makes making the market a very, very risky\nendeavor.\n\nThat's great news for us, right?  Less competition means we get to charge wider spreads.  Only one problem: at any moment, one\nor the other could send in an order and totally blow us out.\n\nSo, umm, don't get blown out.  Take **account BM38636433**, make the market, and don't die.\n\n## Your Goal\n* Make $250,000 in profit while minimizing your exposure to YELO Ltd..\n* Cahan and Bickman are going to periodically send in orders, and we assume they'll be massive.  Avoid getting crushed.\n\n## You'll Be Fired If\n\n* Excessive risk.  Watch out -- taking the other side of *a single order* from one of the big guys could easily result in the risk desk\nterminating your position (and you with it).\n* Losing money.  We're picking up pennies in front of a bulldozer.  If at any point you go quite negative, you're doing it wrong -- expect\nthe risk desk to fire you.\n\n## Starfighter Notes\n\nAll corporations and individuals mentioned in this level are works of fiction.  They bear no resemblance to any real corporation\nor person.  \n\nWhat.  Stop laughing."}}